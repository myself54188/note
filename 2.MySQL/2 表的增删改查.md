## **表的增删改查**

### 增：

```mysql
# 给指定字段添加数据
insert into 表名(字段名1, 地段名2, 字段名3...) values (值1，值2，值3...);

# 给全部字段添加数据
insert into one_table values ('张三','0101','18');

# 给全部字段批量添加属性
insert into 表名 values (值1, 值2, 值3),(值1, 值2, 值3)...;

# 给指定字段批量添加数据
insert into 表名(字段名1, 地段名2...) values (值1，值2...),(值1，值2...)...;
```

### 删：

```mysql
# 删除一行数据
delete from 表名 where 条件;
```

### 改：

```mysql
update 表名 set 字段名1 = 值1,字段名2 = 值2 where 条件;
```

### 查：

#### **1. 单表查询：**

```mysql
# 查询语句
select [distinct] 字段列表
from 表名列表
where 条件列表
group by 分组条件
having 分组后条件列表
order by 字段1 asc 或 desc，字段2 asc 或 desc...
limit 起始索引，每页多少条数据;
```

| 运算符 |   功能   |      运算符      |                  功能                  |
| :----: | :------: | :--------------: | :------------------------------------: |
|   >    |   大于   | between...AND... |  在范围内<br/>（包含最小值，最大值）   |
|   <    |   小于   |     IN(...)      |             在列表中多选一             |
|   >=   | 大于等于 |   LIEK  占位符   | 模糊匹配<br/>（%多个字符，_ 单个字符） |
|   <=   | 小于等于 |     IS NULL      |                  非空                  |
|   =    |   等于   |     AND 或 &     |                   且                   |
| <>或!= |  不等于  |    OR 或 \|\|    |                   或                   |
|        |          |    NOT 或 ！     |                   非                   |

> **聚合函数常和分组一起用**

| 函数  |   功能   |
| :---: | :------: |
| count | 统计数量 |
|  max  | 求最大值 |
|  min  | 求最小值 |
|  avg  | 求平均值 |
|  sum  |   求和   |

> **聚合函数不统计（计算）NULL值**

where和having的条件的区别：

1. where是在分组前对数据进行过滤，过滤的结果参与分组。
2. having是分组后再对结果进行过滤。
3. where不能对聚集函数进行判断。
4. having可以对聚集函数进行判断。

分页处理中limit后接上起始索引和每页多少条数据，起始索引是要查询的页数（从0开始）

<font color="red">**单表查询中语句执行顺序：**</font>

<font color="red">**from -> where -> group by -> having -> select -> order by -> limit**</font>

#### **2.多表查询：**

##### 2.1 表的关系

- 一对一：在任意一方加入外键，关联另一方主键，并且设置外键为唯一。
- 一对多：在多的一方建立外键，指向一的一方的主键。
- 多对多：建立第三张中间表，中间表至少包含两个外键，分别关联两房主键。



##### 2.2 连接查询--内连接

相当于查询A，B交集部分数据

```mysql
# 隐式内连接
select 字段列表 from 表1,表2 where 条件...;

# 显式内连接
select 字段列表 from 表1[inner] join 表2 on 连接条件...;
```



##### 2.3 连接查询--外连接

左外连接：查询左表所有数据，以及两张表交集部分数据。

右外连接：查询右表所有数据，以及两张表交集部分数据。

```mysql
# 左外连接
select 字段列表 from 表1 left [outer] join 表2 on 条件...;

# 右外连接
select 字段列表 from 表1 right [outer] join 表2 on 条件...;
```



##### 2.4 连接查询--自连接

当前表与自身进行连接查询，自连接必须使用别名。



##### 2.5 子查询

sql语句中嵌套select语句，称为嵌套查询，又称子查询。
